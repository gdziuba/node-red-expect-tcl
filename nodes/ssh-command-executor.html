<script type="text/javascript">
    RED.nodes.registerType('ssh-command-executor',{
        category: 'ssh expect tcl',
        color: '#a6bbcf',
        defaults: {
            name: {value:""},
            command: {value:"", required:false},
            disablePagination: {value:false},
            enableLogging: {value: false, required: false}
        },
        inputs:1,
        outputs:1,
        icon: "file-code-o.png",
        label: function() {
            return this.name || "SSH Command Executor";
        }
    });
</script>

<script type="text/html" data-template-name="ssh-command-executor">
    <div class="form-row">
        <label for="node-input-command"><i class="fa fa-terminal"></i> Command</label>
        <input type="text" id="node-input-command" placeholder="Command to execute">
    </div>
    <div class="form-row">
        <label for="node-input-disablePagination"><i class="fa fa-shield"></i> disable pagination</label>
        <input type="checkbox" id="node-input-disablePagination" style="display: inline-block; width: auto; vertical-align: top;" title="Enable this for devices like Cisco routers.">
        <a
                data-html="true"
                title="Enable this when trying to connect to a cisco switch.  This disables pagination."
                class="red-ui-button ui-node-popover-title"
                style="margin-left: 4px; cursor: help; font-size: 0.625rem; border-radius: 50%; width: 24px; height: 24px; display: inline-flex; justify-content: center; align-items: center;">
                <i style="font-family: ui-serif;">fx</i>
            </a>
    </div>
    <div class="form-row">
        <label for="node-input-enableLogging"><i class="icon icon-bookmark"></i> Enable Logging</label>
        <input type="checkbox" id="node-input-enableLogging" style="display: inline-block; width: auto; vertical-align: top;">
    </div> 
</script>

<script type="text/html" data-help-name="ssh-command-executor">
    <p>This node executes a command on the remote system using an established SSH connection from the SSH Connector Node. The command can be specified in the node configuration or dynamically via <code>msg.payload.command</code>.
        <ul>
            <li>Dynamic Variables:</li>
            <li>msg.payload.command</li>
            <li>msg.payload.more</li>
    </p>
</script>
